<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipeline Optimization</title>
</head>
<body>
    <h1>Pipeline Optimization</h1>
    <form action="/" method="post">
        <label for="source_city">Source City:</label>
        <select name="source_city" required>
            {% for city in cities %}
            <option value="{{ city }}">{{ city }}</option>
            {% endfor %}
        </select>
        <br>
        <label for="destination_city">Destination City:</label>
        <select name="destination_city" required>
            {% for city in cities %}
            <option value="{{ city }}">{{ city }}</option>
            {% endfor %}
        </select>
        <br>
        <label for="use_default">Use Default Capacities:</label>
        <input type="radio" name="use_default" value="yes" checked> Yes
        <input type="radio" name="use_default" value="no"> No
        <br>
        <div id="manual_capacities" style="display: none;">
            <h3>Set Manual Capacities:</h3>
            {% for start, end, capacity in connections %}
            <label>{{ start }} &#8594; {{ end }}:</label>
            <input type="number" name="capacity_{{ start }}_{{ end }}" min="0" value="{{ capacity }}">
            <br>
            {% endfor %}
        </div>
        <button type="submit">Calculate</button>
    </form>

    <script>
        const radioButtons = document.querySelectorAll('input[name="use_default"]');
        const manualCapacitiesDiv = document.getElementById('manual_capacities');

        radioButtons.forEach(button => {
            button.addEventListener('change', function () {
                if (this.value === 'no') {
                    manualCapacitiesDiv.style.display = 'block';
                } else {
                    manualCapacitiesDiv.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
